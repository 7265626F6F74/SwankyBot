FROM resin/rpi-raspbian:stretch
MAINTAINER ScarletFloppy
ENV name SwankyBot
ENV token null
RUN [ "cross-build-start" ]
RUN apt update
RUN apt install python3 python3-wheel python3-pip wget unzip 
RUN pip3 install --upgrade pip setuptools 
RUN pip3 install --upgrade python-telegram-bot
RUN apt remove python3-pip wheel unzip 
RUN apt autoremove 
RUN wget -O /tmp/master.zip https://github.com/ScarletFloppy/${name}/archive/master.zip
RUN mkdir -p /bot 
RUN unzip -d /bot /tmp/master.zip 
RUN rm /tmp/master.zip 
RUN [ "cross-build-end" ] 
ENTRYPOINT sh -c "python /bot/${name}-master/bot.py ${token}"
